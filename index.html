# Create a mobile-responsive version that hides the "Unit" column on small screens
from pathlib import Path

html = r"""<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>German A1 Vocabulary ‚Äî Goal Trainer (Mobile Responsive)</title>
<style>
  :root{
    --bg:#0b1020;--card:#111833;--text:#e9ecf5;--muted:#9aa3b2;--accent:#6ea8fe;--border:#233055;
    --highlight:#1b2750;--btn:#0d1737;--yellow:#f1c40f;--red:#e74c3c;--green:#2ecc71;
  }
  *{box-sizing:border-box}
  body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
       background:linear-gradient(180deg,#0b1020 0%,#0e1430 100%);color:var(--text);
       padding:40px 20px;line-height:1.5}
  .wrap{max-width:1200px;margin:0 auto}
  header h1{font-size:2rem;margin:0 0 .25rem 0}
  header p{margin:0 0 1rem 0;color:var(--muted)}
  .controls,.goalbar{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:14px;align-items:center}
  .select,.range,.btn,.num{background:var(--btn);border:1px solid var(--border);color:var(--text);
    border-radius:10px;padding:8px 10px;font-size:.95rem}
  .range,.num{padding:6px 10px}
  .btn{cursor:pointer}
  .btn.primary{border-color:var(--accent)}
  .btn.warn{border-color:var(--yellow)}
  .btn.danger{border-color:var(--red)}
  .badge{display:inline-block;padding:4px 10px;border-radius:999px;border:1px solid var(--border);background:#0c1430;color:var(--muted);font-size:.85rem}
  .card{background:var(--card);border:1px solid var(--border);border-radius:16px;box-shadow:0 10px 30px rgba(0,0,0,.35);overflow:hidden}
  .toolbar{display:flex;gap:12px;padding:12px;border-bottom:1px solid var(--border);background:rgba(255,255,255,.02);align-items:center;position:sticky;top:0;z-index:5;backdrop-filter:blur(6px)}
  .toolbar input{flex:1;padding:10px 12px;border-radius:10px;border:1px solid var(--border);background:#0c1430;color:var(--text);outline:none}
  table{width:100%;border-collapse:collapse}
  thead th{text-align:left;font-weight:700;padding:14px;border-bottom:1px solid var(--border);background:#0d1737;position:sticky;top:110px;z-index:2}
  thead th.iconcol{width:48px;text-align:center}
  thead th.goalcol{width:70px;text-align:center}
  tbody td{padding:12px 14px;border-bottom:1px solid #1c2547;vertical-align:middle}
  tbody tr:nth-child(even) td{background:rgba(255,255,255,0.02)}
  tbody tr.highlight td{background:var(--highlight);transition:background .15s ease}
  .german{font-weight:600}
  .unit{color:var(--muted)}
  .goalcb{transform:scale(1.2);cursor:pointer}
  .speak{display:inline-flex;align-items:center;justify-content:center;height:32px;width:32px;border-radius:10px;border:1px solid var(--border);background:#0c1430;cursor:pointer}
  .speak:hover{outline:2px solid rgba(110,168,254,.25)}
  .speak svg{width:18px;height:18px;fill:var(--text)}
  .note{background:#2d2a00;color:#fff;border:1px dashed #8a6d00;padding:10px;border-radius:10px;margin:10px 0}
  .ok{background:#062d16;border:1px solid #0b6e3d}

  /* ===== Mobile responsiveness ===== */
  @media (max-width: 640px){
    .controls, .goalbar { gap: 6px; }
    header h1 { font-size: 1.35rem; }
    .toolbar span { display: none; } /* hide hint on very small screens */
    /* Hide the Unit column (header + cells) */
    .col-unit { display: none; }
  }
</style>
</head>
<body>
<div class="wrap">
  <header>
    <h1>German A1 Vocabulary ‚Äî Goal Trainer</h1>
    <p class="badge">Mobile-friendly ‚Ä¢ Unit column hidden on small screens</p>
  </header>

  <div id="ttsWarn" class="note" style="display:none"></div>

  <div class="controls">
    <label for="voiceSelect">Voice:</label>
    <select id="voiceSelect" class="select" aria-label="Choose German voice"></select>
    <button id="testVoice" class="btn primary" type="button">Test voice</button>
    <label for="rate">Rate:</label>
    <input id="rate" class="range" type="range" min="0.6" max="1.4" step="0.05" value="1">
    <span id="rateVal">1.00√ó</span>
    <label for="pitch">Pitch:</label>
    <input id="pitch" class="range" type="range" min="0.6" max="1.4" step="0.05" value="1">
    <span id="pitchVal">1.00</span>
    <button id="stopAll" class="btn danger" type="button">Stop</button>
  </div>

  <div class="goalbar">
    <span>Goal repeats:</span>
    <label for="repWord">Word</label>
    <input id="repWord" class="num" type="number" min="1" max="10" value="2">
    <label for="repMeaning">Meaning</label>
    <input id="repMeaning" class="num" type="number" min="0" max="10" value="1">
    <label for="gapMs">Gap ms</label>
    <input id="gapMs" class="num" type="number" min="0" step="50" value="400">
    <button id="startGoal" class="btn primary" type="button">Start Goal ‚ñ∂</button>
    <button id="pauseGoal" class="btn warn" type="button">Pause ‚è∏</button>
    <button id="resetGoal" class="btn" type="button">Reset ‚ü≤</button>
    <span id="goalCount" class="badge">0 selected</span>
    <span id="goalProg" class="badge ok"></span>
  </div>

  <div class="card">
    <div class="toolbar">
      <input id="filter" type="search" placeholder="Filter... type 'goal:' to show only selected goals">
      <span>Click ‚úì to add/remove goals. Click üîä to pronounce.</span>
    </div>
    <table id="vocab">
      <thead>
        <tr><th class="goalcol">Goal ‚úì</th><th class="iconcol">üîä</th><th>German</th><th>English</th><th class="col-unit">Unit</th></tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

  <p class="badge">Selections are saved locally and the page works offline.</p>
</div>

<script>
   const data = [
      // ---------- Unit 1: numbers, greetings, meeting, origin, feelings, pronouns, question words ----------
      ["eins","one","Unit 1"],
      ["zwei","two","Unit 1"],
      ["drei","three","Unit 1"],
      ["vier","four","Unit 1"],
      ["f√ºnf","five","Unit 1"],
      ["sechs","six","Unit 1"],
      ["sieben","seven","Unit 1"],
      ["acht","eight","Unit 1"],
      ["neun","nine","Unit 1"],
      ["zehn","ten","Unit 1"],
      ["elf","eleven","Unit 1"],
      ["zw√∂lf","twelve","Unit 1"],
      ["Guten Morgen!","Good morning!","Unit 1"],
      ["Guten Tag!","Good day!","Unit 1"],
      ["Guten Abend!","Good evening!","Unit 1"],
      ["Hallo!","Hello!","Unit 1"],
      ["Hi!","Hi!","Unit 1"],
      ["Tsch√ºss!","Bye!","Unit 1"],
      ["Auf Wiedersehen!","Goodbye!","Unit 1"],
      ["Mein Name ist‚Ä¶","My name is...","Unit 1"],
      ["Wie ist dein Name?","What is your name?","Unit 1"],
      ["Ich hei√üe‚Ä¶","I‚Äôm called...","Unit 1"],
      ["Wie hei√üt du?","What are you called?","Unit 1"],
      ["Wie hei√üen Sie?","What are you called? (formal)","Unit 1"],
      ["Wer bist du?","Who are you?","Unit 1"],
      ["Wer sind Sie?","Who are you? (formal)","Unit 1"],
      ["Wer ist das?","Who is that?","Unit 1"],
      ["hei√üen","to be called","Unit 1"],
      ["der Name","name","Unit 1"],
      ["der Vorname","first name","Unit 1"],
      ["der Nachname","last name","Unit 1"],
      ["der Mann","man","Unit 1"],
      ["die Frau","woman","Unit 1"],
      ["danke","thank you","Unit 1"],
      ["danke sch√∂n","thank you very much","Unit 1"],
      ["bitte","please / you‚Äôre welcome","Unit 1"],
      ["bitte sch√∂n","you‚Äôre very welcome","Unit 1"],
      ["nichts zu danken","nothing to thank for / you‚Äôre welcome","Unit 1"],
      ["gern geschehen","with pleasure","Unit 1"],
      ["entschuldigung","excuse me","Unit 1"],
      ["tut mir leid","I‚Äôm sorry","Unit 1"],
      ["Woher kommst du?","Where are you from?","Unit 1"],
      ["Woher kommen Sie?","Where are you from? (formal)","Unit 1"],
      ["Ich komme aus...","I am from ...","Unit 1"],
      ["Wie geht‚Äôs?","How‚Äôs it going?","Unit 1"],
      ["Wie geht es dir?","How are you?","Unit 1"],
      ["Wie geht es Ihnen?","How are you? (formal)","Unit 1"],
      ["gut","good","Unit 1"],
      ["sehr gut","very good","Unit 1"],
      ["schlecht","bad","Unit 1"],
      ["sehr schlecht","very bad","Unit 1"],
      ["soso","so-so","Unit 1"],
      ["ich","I","Unit 1"],
      ["du","you","Unit 1"],
      ["er","he","Unit 1"],
      ["sie","she","Unit 1"],
      ["es","it","Unit 1"],
      ["wir","we","Unit 1"],
      ["ihr","you (plural)","Unit 1"],
      ["Sie","you (formal)","Unit 1"],
      ["sie","they","Unit 1"],
      ["Wer?","Who?","Unit 1"],
      ["Wie?","How?","Unit 1"],
      ["Was?","What?","Unit 1"],
      ["Wo?","Where?","Unit 1"],
      ["Woher?","Where from?","Unit 1"],
      ["Wie bitte?","Excuse me? / Pardon?","Unit 1"],

      // ---------- Unit 2: family, personal info, languages, numbers 13‚Äì20 ----------
      ["die Mutter","mother","Unit 2"],
      ["der Vater","father","Unit 2"],
      ["die Eltern","parents","Unit 2"],
      ["der Mann","husband, man","Unit 2"],
      ["die Frau","woman, wife","Unit 2"],
      ["die Kinder","kids","Unit 2"],
      ["der Sohn","son","Unit 2"],
      ["die Tochter","daughter","Unit 2"],
      ["der Bruder","brother","Unit 2"],
      ["die Schwester","sister","Unit 2"],
      ["die Geschwister","siblings","Unit 2"],
      ["der Opa, der Gro√üvater","grandfather","Unit 2"],
      ["die Oma, die Gro√ümutter","grandmother","Unit 2"],
      ["die Gro√üeltern","grandparents","Unit 2"],
      ["die Tante","aunt","Unit 2"],
      ["der Onkel","uncle","Unit 2"],
      ["die Cousine","cousin (female)","Unit 2"],
      ["der Cousin","cousin (male)","Unit 2"],
      ["dreizehn","13","Unit 2"],
      ["vierzehn","14","Unit 2"],
      ["f√ºnfzehn","15","Unit 2"],
      ["sechzehn","16","Unit 2"],
      ["siebzehn","17","Unit 2"],
      ["achtzehn","18","Unit 2"],
      ["neunzehn","19","Unit 2"],
      ["zwanzig","20","Unit 2"],
      ["die Telefonnummer","phone number","Unit 2"],
      ["die Hausnummer","house number","Unit 2"],
      ["die Stadt","city","Unit 2"],
      ["die Postleitzahl","postal code","Unit 2"],
      ["das Datum","date","Unit 2"],
      ["die Unterschrift","signature","Unit 2"],
      ["Wie ist deine Telefonnummer?","What is your phone number?","Unit 2"],
      ["Wie lautet deine Telefonnummer?","What is your phone number?","Unit 2"],
      ["Wo wohnst du?","Where do you live?","Unit 2"],
      ["Wo wohnen Sie?","Where do you live? (formal)","Unit 2"],
      ["Ich wohne in ‚Ä¶","I live in ...","Unit 2"],
      ["verheiratet","married","Unit 2"],
      ["geschieden","divorced","Unit 2"],
      ["ledig","single, unwedded","Unit 2"],
      ["der Freund","boyfriend","Unit 2"],
      ["die Freundin","girlfriend","Unit 2"],
      ["Bist du verheiratet?","Are you married?","Unit 2"],
      ["Sind Sie verheiratet?","Are you married? (formal)","Unit 2"],
      ["Ja, ich bin verheiratet.","Yes, I am married.","Unit 2"],
      ["Ich bin geschieden.","I am divorced.","Unit 2"],
      ["Ich bin ledig.","I am single.","Unit 2"],
      ["Ich habe einen Freund.","I have a boyfriend.","Unit 2"],
      ["Hast du Kinder?","Do you have kids?","Unit 2"],
      ["Haben Sie Kinder?","Do you have kids? (formal)","Unit 2"],
      ["Nein, ich habe keine Kinder.","No, I don‚Äôt have kids.","Unit 2"],
      ["Ja, ich habe einen Sohn.","Yes, I have a son.","Unit 2"],
      ["Ja, ich habe zwei Kinder.","Yes, I have two kids.","Unit 2"],
      ["die Sprache","language","Unit 2"],
      ["sprechen","to speak","Unit 2"],
      ["Englisch","English","Unit 2"],
      ["Deutsch","German","Unit 2"],
      ["Franz√∂sisch","French","Unit 2"],
      ["Portugiesisch","Portuguese","Unit 2"],
      ["Chinesisch","Chinese","Unit 2"],
      ["Spanisch","Spanish","Unit 2"],
      ["Welche Sprachen sprichst du?","Which languages do you speak?","Unit 2"],
      ["Ich spreche ‚Ä¶","I speak ...","Unit 2"],
      ["Ich spreche ein bisschen ‚Ä¶","I speak a little ...","Unit 2"],

      // ---------- Unit 3: shopping, food & drink, restaurant, numbers to 100 ----------
      ["der Supermarkt","supermarket","Unit 3"],
      ["der Laden","store","Unit 3"],
      ["das Gesch√§ft","shop, business","Unit 3"],
      ["einkaufen gehen","to go shopping","Unit 3"],
      ["brauchen","to need","Unit 3"],
      ["kaufen","to buy","Unit 3"],
      ["kosten","to cost","Unit 3"],
      ["das Kilo","kilogram","Unit 3"],
      ["das Wechselgeld","change","Unit 3"],
      ["der Preis","price","Unit 3"],
      ["Was kostet ‚Ä¶?","What does ‚Ä¶ cost?","Unit 3"],
      ["Wie viel kostet ‚Ä¶?","How much is ‚Ä¶?","Unit 3"],
      ["Das kostet ‚Ä¶","This costs ‚Ä¶","Unit 3"],
      ["Guten Appetit!","Enjoy your meal!","Unit 3"],
      ["Ich habe Hunger.","I am hungry.","Unit 3"],
      ["Ich habe Durst.","I am thirsty.","Unit 3"],
      ["M√∂chtest du ein St√ºck Kuchen essen?","Do you want to eat a piece of cake?","Unit 3"],
      ["Nein danke.","No, thank you.","Unit 3"],
      ["Was trinkst du gerne?","What do you like to drink?","Unit 3"],
      ["Was isst du gerne?","What do you like to eat?","Unit 3"],
      ["der Apfel","apple","Unit 3"],
      ["die Birne","pear","Unit 3"],
      ["die Banane","banana","Unit 3"],
      ["die Orange","orange","Unit 3"],
      ["die Erdbeere","strawberry","Unit 3"],
      ["die Traube","grape","Unit 3"],
      ["die Kartoffel","potato","Unit 3"],
      ["die Tomate","tomato","Unit 3"],
      ["der/die Paprika","pepper","Unit 3"],
      ["die Gurke","cucumber","Unit 3"],
      ["die Zwiebel","onion","Unit 3"],
      ["das Brot","bread","Unit 3"],
      ["das Br√∂tchen","bun, roll","Unit 3"],
      ["der Kuchen","cake","Unit 3"],
      ["der Joghurt","yoghurt","Unit 3"],
      ["der K√§se","cheese","Unit 3"],
      ["das Ei","egg","Unit 3"],
      ["der Reis","rice","Unit 3"],
      ["das Fleisch","meat","Unit 3"],
      ["der Fisch","fish","Unit 3"],
      ["die Wurst","sausage","Unit 3"],
      ["der Saft","juice","Unit 3"],
      ["das Bier","beer","Unit 3"],
      ["der Tee","tea","Unit 3"],
      ["das Wasser","water","Unit 3"],
      ["das Mineralwasser","mineral water","Unit 3"],
      ["die Milch","milk","Unit 3"],
      ["der Wein","wine","Unit 3"],
      ["der Kaffee","coffee","Unit 3"],
      ["der Orangensaft","orange juice","Unit 3"],
      ["der Kellner","waiter","Unit 3"],
      ["die G√§ste","guests","Unit 3"],
      ["das Men√º","menu","Unit 3"],
      ["die Getr√§nke","drinks","Unit 3"],
      ["bestellen","to order","Unit 3"],
      ["bereit","ready","Unit 3"],
      ["k√∂stlich","tasty","Unit 3"],
      ["die Speise / das Essen","meal / food","Unit 3"],
      ["der Nachtisch / die Nachspeise","dessert","Unit 3"],
      ["etwas zum Trinken","something to drink","Unit 3"],
      ["etwas zum Essen","something to eat","Unit 3"],
      ["ein Glas Wei√üwein","a glass of white wine","Unit 3"],
      ["die Rechnung","bill / check","Unit 3"],
      ["das Bargeld","cash","Unit 3"],
      ["die Kreditkarte","credit card","Unit 3"],
      ["das Trinkgeld","tip","Unit 3"],
      ["M√∂chten Sie bestellen?","Do you want to order?","Unit 3"],
      ["Alles in Ordnung?","Everything alright?","Unit 3"],
      ["Ich m√∂chte ‚Ä¶ bitte.","I would like ‚Ä¶ please.","Unit 3"],
      ["Ich nehme ‚Ä¶","I‚Äôll take ‚Ä¶","Unit 3"],
      ["Das macht 20 Euro.","That‚Äôs 20 euro.","Unit 3"],
      ["Stimmt so.","Keep the change.","Unit 3"],
      ["einundzwanzig","21","Unit 3"],
      ["zweiundzwanzig","22","Unit 3"],
      ["drei√üig","30","Unit 3"],
      ["vierzig","40","Unit 3"],
      ["f√ºnfzig","50","Unit 3"],
      ["sechzig","60","Unit 3"],
      ["siebzig","70","Unit 3"],
      ["achtzig","80","Unit 3"],
      ["neunzig","90","Unit 3"],
      ["hundert","100","Unit 3"],

      // ---------- Unit 4: home, furniture, colors, adjectives ----------
      ["die Wohnung","apartment","Unit 4"],
      ["das Haus","house","Unit 4"],
      ["das Zimmer","room","Unit 4"],
      ["das Wohnzimmer","living room","Unit 4"],
      ["das Schlafzimmer","bedroom","Unit 4"],
      ["das Kinderzimmer","children's room","Unit 4"],
      ["das Arbeitszimmer","study / home office","Unit 4"],
      ["die K√ºche","kitchen","Unit 4"],
      ["das Badezimmer / das Bad","bathroom","Unit 4"],
      ["das Erdgeschoss","ground floor","Unit 4"],
      ["der Stock","floor (level)","Unit 4"],
      ["der erste Stock","first floor","Unit 4"],
      ["der zweite Stock","second floor","Unit 4"],
      ["der dritte Stock","third floor","Unit 4"],
      ["der Dachboden","attic","Unit 4"],
      ["der Garten","garden","Unit 4"],
      ["der Balkon","balcony","Unit 4"],
      ["die Garage","garage","Unit 4"],
      ["die Treppe","stairs","Unit 4"],
      ["der Keller","cellar","Unit 4"],
      ["der Schrank","cabinet / cupboard","Unit 4"],
      ["das Sofa","sofa","Unit 4"],
      ["die Couch","couch","Unit 4"],
      ["der Tisch","table","Unit 4"],
      ["der Couchtisch","coffee table","Unit 4"],
      ["der Stuhl","chair","Unit 4"],
      ["das Bett","bed","Unit 4"],
      ["der Fernseher","TV","Unit 4"],
      ["die Lampe","lamp","Unit 4"],
      ["der Teppich","carpet","Unit 4"],
      ["das Regal","shelves","Unit 4"],
      ["der K√ºchenschrank","kitchen cupboard","Unit 4"],
      ["der Herd","stove","Unit 4"],
      ["der K√ºhlschrank","fridge","Unit 4"],
      ["die Sp√ºle","kitchen sink","Unit 4"],
      ["die Waschmaschine","washing machine","Unit 4"],
      ["die Dusche","shower","Unit 4"],
      ["die Badewanne","bathtub","Unit 4"],
      ["das Waschbecken","bathroom sink","Unit 4"],
      ["der Spiegel","mirror","Unit 4"],
      ["die Toilette","toilet","Unit 4"],
      ["Entschuldigung, wo ist...?","Excuse me, where is ...?","Unit 4"],
      ["links","left","Unit 4"],
      ["rechts","right","Unit 4"],
      ["hinten","in the back","Unit 4"],
      ["vorne","in the front","Unit 4"],
      ["neben","next to","Unit 4"],
      ["billig","cheap","Unit 4"],
      ["teuer","expensive","Unit 4"],
      ["sch√∂n","pretty","Unit 4"],
      ["h√§sslich","ugly","Unit 4"],
      ["dunkel","dark","Unit 4"],
      ["hell","bright / light","Unit 4"],
      ["alt","old","Unit 4"],
      ["neu","new","Unit 4"],
      ["klein","small","Unit 4"],
      ["gro√ü","big","Unit 4"],
      ["wei√ü","white","Unit 4"],
      ["schwarz","black","Unit 4"],
      ["blau","blue","Unit 4"],
      ["rot","red","Unit 4"],
      ["gelb","yellow","Unit 4"],
      ["gr√ºn","green","Unit 4"],
      ["orange","orange","Unit 4"],
      ["braun","brown","Unit 4"],
      ["lila","purple","Unit 4"],
      ["grau","gray","Unit 4"],
      ["Welche Farbe hat ‚Ä¶?","What color is ‚Ä¶?","Unit 4"],
      ["Welche Farbe haben ‚Ä¶?","What color are ‚Ä¶?","Unit 4"],
      ["hundert","100","Unit 4"],
      ["tausend","1000","Unit 4"],

      // ---------- Unit 5: time of day, days, routines, likes ----------
      ["Wie sp√§t ist es?","What time is it?","Unit 5"],
      ["Wie viel Uhr ist es?","What time is it?","Unit 5"],
      ["Es ist ‚Ä¶ Uhr.","It is ‚Ä¶ o‚Äôclock.","Unit 5"],
      ["um ‚Ä¶ Uhr","at ‚Ä¶ o‚Äôclock","Unit 5"],
      ["bis ‚Ä¶ Uhr","until ‚Ä¶ o‚Äôclock","Unit 5"],
      ["von ‚Ä¶ bis ‚Ä¶ Uhr","from ‚Ä¶ to ‚Ä¶ o‚Äôclock","Unit 5"],
      ["der Morgen","morning","Unit 5"],
      ["der Vormittag","late morning","Unit 5"],
      ["der Mittag","noon","Unit 5"],
      ["der Nachmittag","afternoon","Unit 5"],
      ["der Abend","evening","Unit 5"],
      ["die Nacht","night","Unit 5"],
      ["gestern","yesterday","Unit 5"],
      ["heute","today","Unit 5"],
      ["morgen","tomorrow","Unit 5"],
      ["der Montag","Monday","Unit 5"],
      ["der Dienstag","Tuesday","Unit 5"],
      ["der Mittwoch","Wednesday","Unit 5"],
      ["der Donnerstag","Thursday","Unit 5"],
      ["der Freitag","Friday","Unit 5"],
      ["der Samstag","Saturday","Unit 5"],
      ["der Sonntag","Sunday","Unit 5"],
      ["am Montag","on Monday","Unit 5"],
      ["der Zahn","tooth","Unit 5"],
      ["die Z√§hne","teeth","Unit 5"],
      ["sich die Z√§hne putzen","to brush one‚Äôs teeth","Unit 5"],
      ["sich anziehen","to get dressed","Unit 5"],
      ["mit dem Bus","by bus","Unit 5"],
      ["fahren","to drive / go","Unit 5"],
      ["die Arbeit","job / work","Unit 5"],
      ["arbeiten","to work","Unit 5"],
      ["kommen","to come / arrive","Unit 5"],
      ["nach Hause kommen","to arrive home","Unit 5"],
      ["aufr√§umen","to clean up","Unit 5"],
      ["einkaufen gehen","to go shopping","Unit 5"],
      ["kochen","to cook","Unit 5"],
      ["das Mittagessen","lunch","Unit 5"],
      ["fernsehen","to watch TV","Unit 5"],
      ["trinken","to drink","Unit 5"],
      ["spielen","to play","Unit 5"],
      ["das Computerspiel","computer game","Unit 5"],
      ["Spa√ü haben","to have fun","Unit 5"],
      ["schlafen","to sleep","Unit 5"],
      ["schlafen gehen","to go to sleep","Unit 5"],
      ["wollen","to want","Unit 5"],
      ["fragen","to ask","Unit 5"],
      ["die Zeit","time","Unit 5"],
      ["Zeit haben","to have time","Unit 5"],
      ["frei sein","to be free / available","Unit 5"],
      ["der Geburtstag","birthday","Unit 5"],
      ["eine Party machen","to throw a party","Unit 5"],
      ["beginnen","to start / begin","Unit 5"],
      ["p√ºnktlich","punctual","Unit 5"],
      ["toll","great","Unit 5"],
      ["bis Samstag","see you on Saturday","Unit 5"],
      ["gerne","gladly / like","Unit 5"],
      ["nicht gerne","don‚Äôt like","Unit 5"],
      ["Was machst du gerne?","What do you like to do?","Unit 5"],
      ["Was macht er nicht gerne?","What doesn‚Äôt he like to do?","Unit 5"],
      ["Ich esse gerne Obst.","I like to eat fruit.","Unit 5"],
      ["Sie trinkt Wein nicht gerne.","She doesn‚Äôt like to drink wine.","Unit 5"],

      // ---------- Unit 6: weather, travel, hobbies, favourites, opinions & adjectives ----------
      ["das Wetter","weather","Unit 6"],
      ["der Regen","rain","Unit 6"],
      ["es regnet","it‚Äôs raining","Unit 6"],
      ["der Schnee","snow","Unit 6"],
      ["es schneit","it‚Äôs snowing","Unit 6"],
      ["die Sonne","sun","Unit 6"],
      ["die Sonne scheint","the sun is shining","Unit 6"],
      ["es ist sonnig","it‚Äôs sunny","Unit 6"],
      ["warm","warm","Unit 6"],
      ["hei√ü","hot","Unit 6"],
      ["kalt","cold","Unit 6"],
      ["die Wolke","cloud","Unit 6"],
      ["wolkig","cloudy","Unit 6"],
      ["der Wind","wind","Unit 6"],
      ["windig","windy","Unit 6"],
      ["der Nebel","fog","Unit 6"],
      ["das Eis","ice","Unit 6"],
      ["das Gewitter","storm","Unit 6"],
      ["der Regenbogen","rainbow","Unit 6"],
      ["die Temperatur","temperature","Unit 6"],
      ["das Grad","degree","Unit 6"],
      ["Wie ist das Wetter?","How is the weather?","Unit 6"],
      ["Es ist 20 Grad.","It‚Äôs 20 degrees.","Unit 6"],
      ["Es ist sehr kalt.","It‚Äôs very cold.","Unit 6"],
      ["der Norden","north","Unit 6"],
      ["der S√ºden","south","Unit 6"],
      ["der Westen","west","Unit 6"],
      ["der Osten","east","Unit 6"],
      ["der Fr√ºhling","spring","Unit 6"],
      ["der Sommer","summer","Unit 6"],
      ["der Herbst","autumn / fall","Unit 6"],
      ["der Winter","winter","Unit 6"],
      ["der Urlaub","holiday","Unit 6"],
      ["Urlaub machen","to go on holiday","Unit 6"],
      ["gem√ºtlich","comfortable / cozy","Unit 6"],
      ["buchen","to book","Unit 6"],
      ["das Hotel","hotel","Unit 6"],
      ["die Stadt","city","Unit 6"],
      ["besichtigen","to visit / sightsee","Unit 6"],
      ["das Zelt","tent","Unit 6"],
      ["das Meer","sea","Unit 6"],
      ["ans Meer gehen","to go to the seaside","Unit 6"],
      ["die K√ºste","coast","Unit 6"],
      ["schwimmen","to swim","Unit 6"],
      ["schnorcheln","to snorkel","Unit 6"],
      ["tauchen","to dive","Unit 6"],
      ["das Skifahren","skiing","Unit 6"],
      ["skifahren gehen","to go skiing","Unit 6"],
      ["das Schlittschuhlaufen","ice skating","Unit 6"],
      ["das Land","countryside / land","Unit 6"],
      ["aufs Land gehen","to go to the countryside","Unit 6"],
      ["die Natur","nature","Unit 6"],
      ["spazieren gehen","to go for a walk","Unit 6"],
      ["wandern","to hike","Unit 6"],
      ["lesen","to read","Unit 6"],
      ["Fahrrad fahren","to ride a bike","Unit 6"],
      ["Freunde treffen","to meet friends","Unit 6"],
      ["Computerspiele spielen","to play computer games","Unit 6"],
      ["tanzen","to dance","Unit 6"],
      ["Fu√üball/Basketball/Handball spielen","to play football/basketball/handball","Unit 6"],
      ["reisen","to travel","Unit 6"],
      ["kochen","to cook","Unit 6"],
      ["malen","to paint","Unit 6"],
      ["die Fotografie","photography","Unit 6"],
      ["Musik h√∂ren","to listen to music","Unit 6"],
      ["Musik spielen/machen","to play / make music","Unit 6"],
      ["das Joggen","jogging","Unit 6"],
      ["die Freizeit","free time","Unit 6"],
      ["das Hobby","hobby","Unit 6"],
      ["Was machst du in deiner Freizeit?","What do you do in your free time?","Unit 6"],
      ["Was sind deine Hobbys?","What are your hobbies?","Unit 6"],
      ["der Lieblingsfilm","favorite movie","Unit 6"],
      ["das Lieblingsbuch","favorite book","Unit 6"],
      ["die Lieblingsmusik","favorite music","Unit 6"],
      ["das Lieblingslied","favorite song","Unit 6"],
      ["das Lieblingsessen","favorite food","Unit 6"],
      ["das Lieblingsgetr√§nk","favorite drink","Unit 6"],
      ["die Lieblingsfarbe","favorite color","Unit 6"],
      ["Wie findest du ‚Ä¶?","How do you like ‚Ä¶?","Unit 6"],
      ["Ich finde ihn ‚Ä¶","I find him ‚Ä¶","Unit 6"],
      ["Ich finde sie ‚Ä¶","I find her ‚Ä¶","Unit 6"],
      ["Ich finde es ‚Ä¶","I find it ‚Ä¶","Unit 6"],
      ["kompliziert","complicated","Unit 6"],
      ["einfach","easy / simple","Unit 6"],
      ["schwer","difficult / hard","Unit 6"],
      ["leicht","easy / light","Unit 6"],
      ["interessant","interesting","Unit 6"],
      ["spannend","exciting","Unit 6"],
      ["langweilig","boring","Unit 6"],
      ["gem√ºtlich","cozy","Unit 6"],
      ["praktisch","practical","Unit 6"],
      ["freundlich","friendly","Unit 6"],
      ["nett","nice / friendly","Unit 6"],
      ["zu","too","Unit 6"],
      ["Stimmt das?","Is that right?","Unit 6"],
      ["Ist das richtig?","Is that correct?","Unit 6"],
      ["Was denkst du?","What do you think?","Unit 6"],
      ["Denkst du, wir sollen‚Ä¶","Do you think we should‚Ä¶","Unit 6"],
      ["Das stimmt.","That‚Äôs right.","Unit 6"],
      ["Das ist richtig.","That‚Äôs correct.","Unit 6"],
      ["nat√ºrlich","of course","Unit 6"],
      ["genau","exactly","Unit 6"],
      ["Ich denke ‚Ä¶","I think ‚Ä¶","Unit 6"],
      ["Ich glaube ‚Ä¶","I believe ‚Ä¶","Unit 6"],
      ["Das stimmt nicht.","That‚Äôs not correct.","Unit 6"],
      ["Das ist nicht richtig.","That‚Äôs not correct.","Unit 6"],
      ["Nein, leider nicht.","No, unfortunately not.","Unit 6"],
      ["Ich glaube, das ist eine schlechte Idee.","I think that‚Äôs a bad idea.","Unit 6"],
      ["Unsinn!","Nonsense!","Unit 6"],
      ["Quatsch!","Nonsense / rubbish","Unit 6"],

      // ---------- Unit 7: jobs, email words, years ----------
      ["der Lehrer / die Lehrerin","teacher","Unit 7"],
      ["der Ingenieur / die Ingenieurin","engineer","Unit 7"],
      ["der Verk√§ufer / die Verk√§uferin","seller","Unit 7"],
      ["der Kellner / die Kellnerin","waiter / waitress","Unit 7"],
      ["der Arzt / die √Ñrztin","doctor","Unit 7"],
      ["der Krankenpfleger / die Krankenschwester","nurse","Unit 7"],
      ["der Tierarzt / die Tier√§rztin","vet","Unit 7"],
      ["der Zahnarzt / die Zahn√§rztin","dentist","Unit 7"],
      ["der Automechaniker / die Automechanikerin","car mechanic","Unit 7"],
      ["der Programmierer / die Programmiererin","programmer","Unit 7"],
      ["der Polizist / die Polizistin","police officer","Unit 7"],
      ["der Elektriker / die Elektrikerin","electrician","Unit 7"],
      ["der Gesch√§ftsmann / die Gesch√§ftsfrau","business person","Unit 7"],
      ["der Anwalt / die Anw√§ltin","lawyer","Unit 7"],
      ["der Journalist / die Journalistin","journalist","Unit 7"],
      ["der Friseur / die Friseuse","hairdresser","Unit 7"],
      ["der Koch / die K√∂chin","cook","Unit 7"],
      ["Was bist du von Beruf?","What is your profession?","Unit 7"],
      ["Ich bin ‚Ä¶ von Beruf.","I am ‚Ä¶ by profession.","Unit 7"],
      ["von","from","Unit 7"],
      ["an","to","Unit 7"],
      ["der Betreff","subject (email)","Unit 7"],
      ["der Empf√§nger","recipient","Unit 7"],
      ["der Absender","sender","Unit 7"],
      ["der Anhang","attachment","Unit 7"],
      ["senden","to send","Unit 7"],
      ["l√∂schen","to delete","Unit 7"],
      ["schreiben","to write","Unit 7"],
      ["sehr geehrte Frau","dear Ms. (formal)","Unit 7"],
      ["sehr geehrter Herr","dear Mr. (formal)","Unit 7"],
      ["sehr geehrte Damen und Herren","dear Sir or Madam","Unit 7"],
      ["lieber, liebe","dear","Unit 7"],
      ["Mit freundlichen Gr√º√üen","Kind regards","Unit 7"],
      ["viele Gr√º√üe","many greetings","Unit 7"],
      ["liebe Gr√º√üe","warm greetings","Unit 7"],
      ["alles Gute","all the best","Unit 7"],
      ["meine E-Mail Adresse ist","my email address is","Unit 7"],
      ["Wann bist du geboren?","When were you born?","Unit 7"],
      ["Wann ist er gestorben?","When did he die?","Unit 7"]
    ];

  const tbody = document.querySelector("tbody");
  const LS_KEY = "german_a1_goals_v1";

  function loadGoals(){ try {return JSON.parse(localStorage.getItem(LS_KEY))||{}} catch{ return {}; } }
  function saveGoals(m){ localStorage.setItem(LS_KEY, JSON.stringify(m)); }
  let goals = loadGoals();

  function iconSVG(){ return `<svg viewBox="0 0 24 24" aria-hidden="true">
    <path d="M3 10v4h3l4 4V6L6 10H3z"></path>
    <path d="M14.5 12c0-1.77 1-3.29 2.46-4.03l.98 1.73A3.49 3.49 0 0 0 16.5 12c0 1.3.7 2.42 1.74 3.03l-.98 1.73A5.5 5.5 0 0 1 14.5 12z"></path>
    <path d="M19 5.5 20 7a7 7 0 0 1 0 10l-1 1.5A8.97 8.97 0 0 0 21 12a8.97 8.97 0 0 0-2-6.5z"></path>
  </svg>`; }

  function rowTemplate([de,en,unit]){
    const id = encodeURIComponent(de);
    const checked = goals[id] ? "checked" : "";
    return `<tr data-id="${id}">
      <td style="text-align:center"><input type="checkbox" class="goalcb" ${checked} aria-label="Mark goal: ${de}"></td>
      <td style="text-align:center"><button class="speak" type="button" data-text="${de}" aria-label="Pronounce: ${de}">${iconSVG()}</button></td>
      <td class="german">${de}</td>
      <td class="english">${en}</td>
      <td class="unit col-unit">${unit}</td>
    </tr>`;
  }

  function renderRows(rows){
    tbody.innerHTML = rows.map(rowTemplate).join("");
    bindRows();
    updateGoalCount();
  }
  renderRows(data);

  const input = document.getElementById("filter");
  input.addEventListener("input", e => {
    const q = e.target.value.toLowerCase().trim();
    let rows = data;
    if(q.startsWith("goal")) rows = data.filter(([de]) => goals[encodeURIComponent(de)]);
    else if(q) rows = data.filter(([de,en,u]) => de.toLowerCase().includes(q) || en.toLowerCase().includes(q) || u.toLowerCase().includes(q));
    renderRows(rows);
  });

  // --- TTS (same robust loader as before) ---
  const voiceSelect = document.getElementById("voiceSelect");
  const testVoice = document.getElementById("testVoice");
  const rate = document.getElementById("rate"), pitch = document.getElementById("pitch");
  const rateVal = document.getElementById("rateVal"), pitchVal = document.getElementById("pitchVal");
  const stopAll = document.getElementById("stopAll");
  const ttsWarn = document.getElementById("ttsWarn");

  let voices = []; let currentVoice = null;

  function setWarn(html, ok=false){
    ttsWarn.style.display = "block";
    ttsWarn.className = "note" + (ok ? " ok" : "");
    ttsWarn.innerHTML = html;
  }
  function clearWarn(){ ttsWarn.style.display = "none"; }

  function listVoices(){
    voices = speechSynthesis.getVoices();
    voiceSelect.innerHTML = "";
    const german = voices.filter(v => (v.lang||"").toLowerCase().startsWith("de"));
    const others = voices.filter(v => !(v.lang||"").toLowerCase().startsWith("de"));
    [...german,...others].forEach(v => {
      const opt = document.createElement("option");
      opt.value = v.name;
      opt.textContent = `${v.name} ‚Äî ${v.lang}` + (german.includes(v) ? " (DE)" : "");
      voiceSelect.appendChild(opt);
    });
    currentVoice = german[0] || voices[0] || null;
    if(currentVoice) voiceSelect.value = currentVoice.name;
  }
  function ensureVoicesReady(){
    return new Promise(resolve => {
      listVoices();
      if(voices.length) return resolve();
      let tries = 0;
      const id = setInterval(() => {
        tries++; listVoices();
        if(voices.length || tries > 20){ clearInterval(id); resolve(); }
      }, 100);
      if(typeof speechSynthesis.onvoiceschanged !== "undefined"){
        speechSynthesis.onvoiceschanged = () => { listVoices(); };
      }
    });
  }
  function pickVoice(){ currentVoice = voices.find(v => v.name === voiceSelect.value) || currentVoice; }
  async function speak(text){
    if(!("speechSynthesis" in window)){ setWarn("Speech Synthesis not supported.", false); return; }
    speechSynthesis.cancel();
    const u = new SpeechSynthesisUtterance(text);
    u.rate = Number(rate.value); u.pitch = Number(pitch.value);
    if(currentVoice){ u.voice = currentVoice; u.lang = currentVoice.lang || "de-DE"; } else { u.lang = "de-DE"; }
    return new Promise(res => { u.onend = res; speechSynthesis.speak(u); });
  }

  function bindRows(){
    document.querySelectorAll(".speak").forEach(btn => {
      btn.addEventListener("click", async () => { await speak(btn.dataset.text); });
    });
    document.querySelectorAll(".goalcb").forEach(cb => {
      cb.addEventListener("change", () => {
        const id = cb.closest("tr").dataset.id;
        if(cb.checked) goals[id] = true; else delete goals[id];
        saveGoals(goals); updateGoalCount();
      });
    });
  }
  function updateGoalCount(){
    const n = Object.keys(goals).length;
    document.getElementById("goalCount").textContent = n + " selected";
  }

  // Goal session
  const startBtn = document.getElementById("startGoal");
  const pauseBtn = document.getElementById("pauseGoal");
  const resetBtn = document.getElementById("resetGoal");
  const goalProg = document.getElementById("goalProg");
  const repWord = document.getElementById("repWord");
  const repMeaning = document.getElementById("repMeaning");
  const gapMs = document.getElementById("gapMs");
  let session = {list:[], idx:0, paused:false, running:false};

  function sleep(ms){ return new Promise(r=>setTimeout(r,ms)); }
  async function speakTimes(text, n){
    for(let i=0;i<n;i++){ if(!session.running||session.paused) return; await speak(text); await sleep(Number(gapMs.value)); }
  }
  async function runSession(){
    const ids = Object.keys(goals);
    session.list = data.filter(([de]) => ids.includes(encodeURIComponent(de)));
    session.idx = 0; session.running = true; session.paused = false;
    if(!session.list.length){ setWarn("No goals selected. Tick ‚úì first.", false); session.running = false; return; }
    clearWarn();
    startBtn.textContent = "Restart Goal ‚ñ∂";
    while(session.running && session.idx < session.list.length){
      while(session.paused) await sleep(100);
      const [de,en] = session.list[session.idx];
      goalProg.textContent = `Now: ${de} ‚Üí ${en} (${session.idx+1}/${session.list.length})`;
      await speakTimes(de, Math.max(0, Number(repWord.value)));
      if(!session.running) break;
      await speakTimes(en, Math.max(0, Number(repMeaning.value)));
      if(!session.running) break;
      session.idx++; await sleep(Number(gapMs.value));
    }
    session.running = false;
    goalProg.textContent = "Goal session " + (session.idx >= session.list.length ? "complete ‚úî" : "stopped");
  }

  // UI events
  ensureVoicesReady();
  voiceSelect.addEventListener("change", pickVoice);
  rate.addEventListener("input", () => rateVal.textContent = Number(rate.value).toFixed(2)+"√ó");
  pitch.addEventListener("input", () => pitchVal.textContent = Number(pitch.value).toFixed(2));
  document.getElementById("testVoice").addEventListener("click", async () => { await ensureVoicesReady(); await speak("Guten Tag! Das ist ein Test."); });
  document.getElementById("startGoal").addEventListener("click", async () => { await ensureVoicesReady(); session.running = false; speechSynthesis.cancel(); runSession(); });
  document.getElementById("pauseGoal").addEventListener("click", () => { session.paused = !session.paused; document.getElementById("pauseGoal").textContent = session.paused ? "Resume ‚ñ∂" : "Pause ‚è∏"; });
  document.getElementById("resetGoal").addEventListener("click", () => { session.running = false; session.paused = false; session.idx = 0; goalProg.textContent = ""; speechSynthesis.cancel(); });
  stopAll.addEventListener("click", () => { session.running = false; session.paused = false; speechSynthesis.cancel(); document.getElementById("pauseGoal").textContent = "Pause ‚è∏"; });
</script>
</body>
</html>
"""
out = Path("/mnt/data/german_a1_vocab_units_goal_tts_fix_mobile.html")
out.write_text(html, encoding="utf-8")
out.as_posix()
